{"remainingRequest":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\src\\views\\apps\\calendar\\calendar-event-handler\\CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\src\\views\\apps\\calendar\\calendar-event-handler\\CalendarEventHandler.vue","mtime":1653043180850},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\css-loader\\dist\\cjs.js","mtime":1653043260894},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1653043267607},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\postcss-loader\\src\\index.js","mtime":1653043263711},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1653043258712},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653043258756},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\vue-loader\\lib\\index.js","mtime":1653043264822}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICdAY29yZS9zY3NzL3Z1ZS9saWJzL3Z1ZS1zZWxlY3Quc2Nzcyc7DQpAaW1wb3J0ICdAY29yZS9zY3NzL3Z1ZS9saWJzL3Z1ZS1mbGF0cGlja2VyLnNjc3MnOw0K"},{"version":3,"sources":["CalendarEventHandler.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0YA;AACA","file":"CalendarEventHandler.vue","sourceRoot":"src/views/apps/calendar/calendar-event-handler","sourcesContent":["<template>\r\n  <div>\r\n    <b-sidebar\r\n      id=\"sidebar-add-new-event\"\r\n      sidebar-class=\"sidebar-lg\"\r\n      :visible=\"isEventHandlerSidebarActive\"\r\n      bg-variant=\"white\"\r\n      shadow\r\n      backdrop\r\n      no-header\r\n      right\r\n      @change=\"(val) => $emit('update:is-event-handler-sidebar-active', val)\"\r\n    >\r\n      <template #default=\"{ hide }\">\r\n        <!-- Header -->\r\n        <div class=\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\">\r\n          <h5 class=\"mb-0\">\r\n            {{ eventLocal.id ? 'Update': 'Add' }} Event\r\n          </h5>\r\n          <div>\r\n            <feather-icon\r\n              v-if=\"eventLocal.id\"\r\n              icon=\"TrashIcon\"\r\n              class=\"cursor-pointer\"\r\n              @click=\"$emit('remove-event'); hide();\"\r\n            />\r\n            <feather-icon\r\n              class=\"ml-1 cursor-pointer\"\r\n              icon=\"XIcon\"\r\n              size=\"16\"\r\n              @click=\"hide\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Body -->\r\n        <validation-observer\r\n          #default=\"{ handleSubmit }\"\r\n          ref=\"refFormObserver\"\r\n        >\r\n\r\n          <!-- Form -->\r\n          <b-form\r\n            class=\"p-2\"\r\n            @submit.prevent=\"handleSubmit(onSubmit)\"\r\n            @reset.prevent=\"resetForm\"\r\n          >\r\n\r\n            <!-- Title -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Title\"\r\n              rules=\"required\"\r\n            >\r\n              <b-form-group\r\n                label=\"Title\"\r\n                label-for=\"event-title\"\r\n              >\r\n                <b-form-input\r\n                  id=\"event-title\"\r\n                  v-model=\"eventLocal.title\"\r\n                  autofocus\r\n                  :state=\"getValidationState(validationContext)\"\r\n                  trim\r\n                  placeholder=\"Event Title\"\r\n                />\r\n\r\n                <b-form-invalid-feedback>\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- Calendar -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Calendar\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"Calendar\"\r\n                label-for=\"calendar\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <v-select\r\n                  v-model=\"eventLocal.extendedProps.calendar\"\r\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\r\n                  :options=\"calendarOptions\"\r\n                  label=\"label\"\r\n                  :reduce=\"calendar => calendar.label\"\r\n                  input-id=\"calendar\"\r\n                >\r\n\r\n                  <template #option=\"{ color, label }\">\r\n                    <div\r\n                      class=\"rounded-circle d-inline-block mr-50\"\r\n                      :class=\"`bg-${color}`\"\r\n                      style=\"height:10px;width:10px\"\r\n                    />\r\n                    <span> {{ label }}</span>\r\n                  </template>\r\n\r\n                  <template #selected-option=\"{ color, label }\">\r\n                    <div\r\n                      class=\"rounded-circle d-inline-block mr-50\"\r\n                      :class=\"`bg-${color}`\"\r\n                      style=\"height:10px;width:10px\"\r\n                    />\r\n                    <span> {{ label }}</span>\r\n                  </template>\r\n                </v-select>\r\n\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- Start Date -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Start Date\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"Start Date\"\r\n                label-for=\"start-date\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <flat-pickr\r\n                  v-model=\"eventLocal.start\"\r\n                  class=\"form-control\"\r\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- End Date -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"End Date\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"End Date\"\r\n                label-for=\"end-date\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <flat-pickr\r\n                  v-model=\"eventLocal.end\"\r\n                  class=\"form-control\"\r\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- All Day -->\r\n            <b-form-group>\r\n              <b-form-checkbox\r\n                v-model=\"eventLocal.allDay\"\r\n                name=\"check-button\"\r\n                switch\r\n                inline\r\n              >\r\n                All Day\r\n              </b-form-checkbox>\r\n            </b-form-group>\r\n\r\n            <!-- Event URL -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Event URL\"\r\n              rules=\"url\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"Event URL\"\r\n                label-for=\"event-url\"\r\n              >\r\n                <b-form-input\r\n                  id=\"event-url\"\r\n                  v-model=\"eventLocal.eventUrl\"\r\n                  type=\"url\"\r\n                  :state=\"getValidationState(validationContext)\"\r\n                  placeholder=\"htttps://www.google.com\"\r\n                  trim\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- Guests -->\r\n            <b-form-group\r\n              label=\"Add Guests\"\r\n              label-for=\"add-guests\"\r\n            >\r\n              <v-select\r\n                v-model=\"eventLocal.extendedProps.guests\"\r\n                :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\r\n                multiple\r\n                :close-on-select=\"false\"\r\n                :options=\"guestsOptions\"\r\n                label=\"name\"\r\n                input-id=\"add-guests\"\r\n              >\r\n\r\n                <template #option=\"{ avatar, name }\">\r\n                  <b-avatar\r\n                    size=\"sm\"\r\n                    :src=\"avatar\"\r\n                  />\r\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\r\n                </template>\r\n\r\n                <template #selected-option=\"{ avatar, name }\">\r\n                  <b-avatar\r\n                    size=\"sm\"\r\n                    class=\"border border-white\"\r\n                    :src=\"avatar\"\r\n                  />\r\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\r\n                </template>\r\n              </v-select>\r\n            </b-form-group>\r\n\r\n            <!-- Location -->\r\n            <b-form-group\r\n              label=\"Location\"\r\n              label-for=\"event-location\"\r\n            >\r\n              <b-form-input\r\n                id=\"event-location\"\r\n                v-model=\"eventLocal.extendedProps.location\"\r\n                trim\r\n                placeholder=\"Event Location\"\r\n              />\r\n            </b-form-group>\r\n\r\n            <!-- Textarea -->\r\n            <b-form-group\r\n              label=\"Description\"\r\n              label-for=\"event-description\"\r\n            >\r\n              <b-form-textarea\r\n                id=\"event-description\"\r\n                v-model=\"eventLocal.extendedProps.description\"\r\n              />\r\n            </b-form-group>\r\n\r\n            <!-- Form Actions -->\r\n            <div class=\"d-flex mt-2\">\r\n              <b-button\r\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\r\n                variant=\"primary\"\r\n                class=\"mr-2\"\r\n                type=\"submit\"\r\n              >\r\n                {{ eventLocal.id ? 'Update' : 'Add ' }}\r\n              </b-button>\r\n              <b-button\r\n                v-ripple.400=\"'rgba(186, 191, 199, 0.15)'\"\r\n                type=\"reset\"\r\n                variant=\"outline-secondary\"\r\n              >\r\n                Reset\r\n              </b-button>\r\n            </div>\r\n          </b-form>\r\n        </validation-observer>\r\n      </template>\r\n    </b-sidebar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BSidebar, BForm, BFormGroup, BFormInput, BFormCheckbox, BAvatar, BFormTextarea, BButton, BFormInvalidFeedback,\r\n} from 'bootstrap-vue'\r\nimport vSelect from 'vue-select'\r\nimport flatPickr from 'vue-flatpickr-component'\r\nimport Ripple from 'vue-ripple-directive'\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\r\nimport { required, email, url } from '@validations'\r\nimport formValidation from '@core/comp-functions/forms/form-validation'\r\nimport { ref, toRefs } from '@vue/composition-api'\r\nimport useCalendarEventHandler from './useCalendarEventHandler'\r\n\r\nexport default {\r\n  components: {\r\n    BButton,\r\n    BSidebar,\r\n    BForm,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BFormCheckbox,\r\n    BFormTextarea,\r\n    BAvatar,\r\n    vSelect,\r\n    flatPickr,\r\n    ValidationProvider,\r\n    BFormInvalidFeedback,\r\n    ValidationObserver,\r\n  },\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  model: {\r\n    prop: 'isEventHandlerSidebarActive',\r\n    event: 'update:is-event-handler-sidebar-active',\r\n  },\r\n  props: {\r\n    isEventHandlerSidebarActive: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    event: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    clearEventData: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      required,\r\n      email,\r\n      url,\r\n    }\r\n  },\r\n  setup(props, { emit }) {\r\n    /*\r\n     ? This is handled quite differently in SFC due to deadlock of `useFormValidation` and this composition function.\r\n     ? If we don't handle it the way it is being handled then either of two composition function used by this SFC get undefined as one of it's argument.\r\n     * The Trick:\r\n\r\n     * We created reactive property `clearFormData` and set to null so we can get `resetEventLocal` from `useCalendarEventHandler` composition function.\r\n     * Once we get `resetEventLocal` function which is required by `useFormValidation` we will pass it to `useFormValidation` and in return we will get `clearForm` function which shall be original value of `clearFormData`.\r\n     * Later we just assign `clearForm` to `clearFormData` and can resolve the deadlock. 😎\r\n\r\n     ? Behind The Scene\r\n     ? When we passed it to `useCalendarEventHandler` for first time it will be null but right after it we are getting correct value (which is `clearForm`) and assigning that correct value.\r\n     ? As `clearFormData` is reactive it is being changed from `null` to corrent value and thanks to reactivity it is also update in `useCalendarEventHandler` composition function and it is getting correct value in second time and can work w/o any issues.\r\n    */\r\n    const clearFormData = ref(null)\r\n\r\n    const {\r\n      eventLocal,\r\n      resetEventLocal,\r\n      calendarOptions,\r\n\r\n      // UI\r\n      onSubmit,\r\n      guestsOptions,\r\n    } = useCalendarEventHandler(toRefs(props), clearFormData, emit)\r\n\r\n    const {\r\n      refFormObserver,\r\n      getValidationState,\r\n      resetForm,\r\n      clearForm,\r\n    } = formValidation(resetEventLocal, props.clearEventData)\r\n\r\n    clearFormData.value = clearForm\r\n\r\n    return {\r\n      // Add New Event\r\n      eventLocal,\r\n      calendarOptions,\r\n      onSubmit,\r\n      guestsOptions,\r\n\r\n      // Form Validation\r\n      resetForm,\r\n      refFormObserver,\r\n      getValidationState,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@core/scss/vue/libs/vue-select.scss';\r\n@import '@core/scss/vue/libs/vue-flatpicker.scss';\r\n</style>\r\n"]}]}