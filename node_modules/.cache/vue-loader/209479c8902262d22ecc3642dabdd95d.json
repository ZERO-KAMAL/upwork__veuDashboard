{"remainingRequest":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\src\\views\\forms\\form-element\\autosuggest\\AutoSuggestAjax.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\src\\views\\forms\\form-element\\autosuggest\\AutoSuggestAjax.vue","mtime":1653043181287},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653043258756},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\babel-loader\\lib\\index.js","mtime":1653043263838},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653043258756},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\frontend_insurance\\node_modules\\vue-loader\\lib\\index.js","mtime":1653043264822}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiBlc2xpbnQtZGlzYWJsZSB2dWUvbm8tdW51c2VkLWNvbXBvbmVudHMgKi8NCi8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFsiZXJyb3IiLCB7ICJhbGxvd1Nob3J0Q2lyY3VpdCI6IHRydWUgfV0gKi8NCmltcG9ydCBCQ2FyZENvZGUgZnJvbSAnQGNvcmUvY29tcG9uZW50cy9iLWNhcmQtY29kZS9CQ2FyZENvZGUudnVlJw0KaW1wb3J0IHsgQkNhcmQsIEJDYXJkVGV4dCwgQkF2YXRhciB9IGZyb20gJ2Jvb3RzdHJhcC12dWUnDQppbXBvcnQgeyBWdWVBdXRvc3VnZ2VzdCB9IGZyb20gJ3Z1ZS1hdXRvc3VnZ2VzdCcNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCmltcG9ydCB7IGNvZGVBamF4IH0gZnJvbSAnLi9jb2RlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBWdWVBdXRvc3VnZ2VzdCwNCiAgICBCQ2FyZENvZGUsDQogICAgQkNhcmQsDQogICAgQkNhcmRUZXh0LA0KICAgIEJBdmF0YXIsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvZGVBamF4LA0KICAgICAgcXVlcnk6ICcnLA0KICAgICAgcmVzdWx0czogW10sDQogICAgICB0aW1lb3V0OiBudWxsLA0KICAgICAgc2VsZWN0ZWQ6IG51bGwsDQogICAgICBkZWJvdW5jZU1pbGxpc2Vjb25kczogMjUwLA0KICAgICAgdXNlcnNVcmw6ICdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vdXNlcnMnLA0KICAgICAgcGhvdG9zVXJsOiAnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bob3RvcycsDQogICAgICBpbnB1dFByb3BzOiB7DQogICAgICAgIGlkOiAnYXV0b3N1Z2dlc3RfX2lucHV0X2FqYXgnLA0KICAgICAgICBwbGFjZWhvbGRlcjogJ0RvIHlvdSBmZWVsIGx1Y2t5LCBwdW5rPycsDQogICAgICAgIGNsYXNzOiAnZm9ybS1jb250cm9sJywNCiAgICAgICAgbmFtZTogJ2FqYXgnLA0KICAgICAgfSwNCiAgICAgIHN1Z2dlc3Rpb25zOiBbXSwNCiAgICAgIHNlY3Rpb25Db25maWdzOiB7DQogICAgICAgIGRlc3RpbmF0aW9uczogew0KICAgICAgICAgIGxpbWl0OiA2LA0KICAgICAgICAgIGxhYmVsOiAnRGVzdGluYXRpb24nLA0KICAgICAgICAgIG9uU2VsZWN0ZWQ6IHNlbGVjdGVkID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZC5pdGVtDQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgaG90ZWxzOiB7DQogICAgICAgICAgbGltaXQ6IDYsDQogICAgICAgICAgbGFiZWw6ICdIb3RlbHMnLA0KICAgICAgICAgIG9uU2VsZWN0ZWQ6IHNlbGVjdGVkID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZC5pdGVtDQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZmV0Y2hSZXN1bHRzKCkgew0KICAgICAgY29uc3QgeyBxdWVyeSB9ID0gdGhpcw0KDQogICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KQ0KICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIGNvbnN0IHBob3Rvc1Byb21pc2UgPSBheGlvcy5nZXQodGhpcy5waG90b3NVcmwpDQogICAgICAgIGNvbnN0IHVzZXJzUHJvbWlzZSA9IGF4aW9zLmdldCh0aGlzLnVzZXJzVXJsKQ0KDQogICAgICAgIFByb21pc2UuYWxsKFtwaG90b3NQcm9taXNlLCB1c2Vyc1Byb21pc2VdKS50aGVuKHZhbHVlcyA9PiB7DQogICAgICAgICAgdGhpcy5zdWdnZXN0aW9ucyA9IFtdDQogICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IG51bGwNCg0KICAgICAgICAgIGNvbnN0IHBob3RvcyA9IHRoaXMuZmlsdGVyUmVzdWx0cyh2YWx1ZXNbMF0uZGF0YSwgcXVlcnksICd0aXRsZScpDQogICAgICAgICAgY29uc3QgdXNlcnMgPSB0aGlzLmZpbHRlclJlc3VsdHModmFsdWVzWzFdLmRhdGEsIHF1ZXJ5LCAnbmFtZScpDQogICAgICAgICAgdXNlcnMubGVuZ3RoICYmIHRoaXMuc3VnZ2VzdGlvbnMucHVzaCh7IG5hbWU6ICdkZXN0aW5hdGlvbnMnLCBkYXRhOiB1c2VycyB9KQ0KICAgICAgICAgIHBob3Rvcy5sZW5ndGggJiYgdGhpcy5zdWdnZXN0aW9ucy5wdXNoKHsgbmFtZTogJ2hvdGVscycsIGRhdGE6IHBob3RvcyB9KQ0KICAgICAgICB9KQ0KICAgICAgfSwgdGhpcy5kZWJvdW5jZU1pbGxpc2Vjb25kcykNCiAgICB9LA0KICAgIGZpbHRlclJlc3VsdHMoZGF0YSwgdGV4dCwgZmllbGQpIHsNCiAgICAgIHJldHVybiBkYXRhLmZpbHRlcihpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW1bZmllbGRdLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0ZXh0LnRvTG93ZXJDYXNlKCkpID4gLTEpIHsNCiAgICAgICAgICByZXR1cm4gaXRlbVtmaWVsZF0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0pLnNvcnQoKQ0KICAgIH0sDQogICAgcmVuZGVyU3VnZ2VzdGlvbihzdWdnZXN0aW9uKSB7DQogICAgICBpZiAoc3VnZ2VzdGlvbi5uYW1lID09PSAnaG90ZWxzJykgew0KICAgICAgICBjb25zdCBpbWFnZSA9IHN1Z2dlc3Rpb24uaXRlbQ0KICAgICAgICByZXR1cm4gKA0KICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCI+DQogICAgICAgICAgICA8ZGl2Pg0KICAgICAgICAgICAgICA8Yi1hdmF0YXIgc3JjPXtpbWFnZS50aHVtYm5haWxVcmx9IGNsYXNzPSJtci01MCI+PC9iLWF2YXRhcj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdj4NCiAgICAgICAgICAgICAgPHNwYW4+e2ltYWdlLnRpdGxlfTwvc3Bhbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICApDQogICAgICB9DQogICAgICByZXR1cm4gc3VnZ2VzdGlvbi5pdGVtLm5hbWUNCiAgICB9LA0KICAgIGdldFN1Z2dlc3Rpb25WYWx1ZShzdWdnZXN0aW9uKSB7DQogICAgICBjb25zdCB7IG5hbWUsIGl0ZW0gfSA9IHN1Z2dlc3Rpb24NCiAgICAgIHJldHVybiBuYW1lID09PSAnaG90ZWxzJyA/IGl0ZW0udGl0bGUgOiBpdGVtLm5hbWUNCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["AutoSuggestAjax.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AutoSuggestAjax.vue","sourceRoot":"src/views/forms/form-element/autosuggest","sourcesContent":["<template>\r\n  <b-card-code title=\"Ajax\">\r\n    <vue-autosuggest\r\n      ref=\"autocomplete\"\r\n      v-model=\"query\"\r\n      :suggestions=\"suggestions\"\r\n      :input-props=\"inputProps\"\r\n      :section-configs=\"sectionConfigs\"\r\n      :render-suggestion=\"renderSuggestion\"\r\n      :get-suggestion-value=\"getSuggestionValue\"\r\n      @input=\"fetchResults\"\r\n    />\r\n\r\n    <b-card-text class=\"mt-1\">\r\n      Selected element (object):\r\n    </b-card-text>\r\n    <b-card\r\n      class=\"border\"\r\n      no-body\r\n    >\r\n      <pre>{{ JSON.stringify(selected, null, 4) }}</pre>\r\n    </b-card>\r\n\r\n    <template #code>\r\n      {{ codeAjax }}\r\n    </template>\r\n  </b-card-code>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable vue/no-unused-components */\r\n/* eslint no-unused-expressions: [\"error\", { \"allowShortCircuit\": true }] */\r\nimport BCardCode from '@core/components/b-card-code/BCardCode.vue'\r\nimport { BCard, BCardText, BAvatar } from 'bootstrap-vue'\r\nimport { VueAutosuggest } from 'vue-autosuggest'\r\nimport axios from 'axios'\r\nimport { codeAjax } from './code'\r\n\r\nexport default {\r\n  components: {\r\n    VueAutosuggest,\r\n    BCardCode,\r\n    BCard,\r\n    BCardText,\r\n    BAvatar,\r\n  },\r\n  data() {\r\n    return {\r\n      codeAjax,\r\n      query: '',\r\n      results: [],\r\n      timeout: null,\r\n      selected: null,\r\n      debounceMilliseconds: 250,\r\n      usersUrl: 'https://jsonplaceholder.typicode.com/users',\r\n      photosUrl: 'https://jsonplaceholder.typicode.com/photos',\r\n      inputProps: {\r\n        id: 'autosuggest__input_ajax',\r\n        placeholder: 'Do you feel lucky, punk?',\r\n        class: 'form-control',\r\n        name: 'ajax',\r\n      },\r\n      suggestions: [],\r\n      sectionConfigs: {\r\n        destinations: {\r\n          limit: 6,\r\n          label: 'Destination',\r\n          onSelected: selected => {\r\n            this.selected = selected.item\r\n          },\r\n        },\r\n        hotels: {\r\n          limit: 6,\r\n          label: 'Hotels',\r\n          onSelected: selected => {\r\n            this.selected = selected.item\r\n          },\r\n        },\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    fetchResults() {\r\n      const { query } = this\r\n\r\n      clearTimeout(this.timeout)\r\n      this.timeout = setTimeout(() => {\r\n        const photosPromise = axios.get(this.photosUrl)\r\n        const usersPromise = axios.get(this.usersUrl)\r\n\r\n        Promise.all([photosPromise, usersPromise]).then(values => {\r\n          this.suggestions = []\r\n          this.selected = null\r\n\r\n          const photos = this.filterResults(values[0].data, query, 'title')\r\n          const users = this.filterResults(values[1].data, query, 'name')\r\n          users.length && this.suggestions.push({ name: 'destinations', data: users })\r\n          photos.length && this.suggestions.push({ name: 'hotels', data: photos })\r\n        })\r\n      }, this.debounceMilliseconds)\r\n    },\r\n    filterResults(data, text, field) {\r\n      return data.filter(item => {\r\n        if (item[field].toLowerCase().indexOf(text.toLowerCase()) > -1) {\r\n          return item[field]\r\n        }\r\n        return false\r\n      }).sort()\r\n    },\r\n    renderSuggestion(suggestion) {\r\n      if (suggestion.name === 'hotels') {\r\n        const image = suggestion.item\r\n        return (\r\n          <div class=\"d-flex\">\r\n            <div>\r\n              <b-avatar src={image.thumbnailUrl} class=\"mr-50\"></b-avatar>\r\n            </div>\r\n            <div>\r\n              <span>{image.title}</span>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n      return suggestion.item.name\r\n    },\r\n    getSuggestionValue(suggestion) {\r\n      const { name, item } = suggestion\r\n      return name === 'hotels' ? item.title : item.name\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\npre{\r\n  min-height: 295px;\r\n  padding: 1.5rem;\r\n  margin-bottom: 0;\r\n  border-radius: .5rem;\r\n}\r\n</style>\r\n"]}]}