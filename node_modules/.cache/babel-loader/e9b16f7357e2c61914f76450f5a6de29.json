{"remainingRequest":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\src\\views\\dashboard\\admin-modules\\brokerages\\useBrokagesList.js","dependencies":[{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\src\\views\\dashboard\\admin-modules\\brokerages\\useBrokagesList.js","mtime":1653043181176},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\babel.config.js","mtime":1653043180287},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653043258756},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\node_modules\\babel-loader\\lib\\index.js","mtime":1653043263838}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgdGl0bGUgfSBmcm9tICdAY29yZS91dGlscy9maWx0ZXInOyAvLyBOb3RpZmljYXRpb24KCmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAndnVlLXRvYXN0aWZpY2F0aW9uL2NvbXBvc2l0aW9uJzsKaW1wb3J0IFRvYXN0aWZpY2F0aW9uQ29udGVudCBmcm9tICdAY29yZS9jb21wb25lbnRzL3RvYXN0aWZpY2F0aW9uL1RvYXN0aWZpY2F0aW9uQ29udGVudC52dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZWJyb2tlcmFnZXNMaXN0KCkgewogIC8vIFVzZSB0b2FzdAogIHZhciB0b2FzdCA9IHVzZVRvYXN0KCk7CiAgdmFyIHJlZlVzZXJMaXN0VGFibGUgPSByZWYobnVsbCk7IC8vIFRhYmxlIEhhbmRsZXJzCgogIHZhciB0YWJsZUNvbHVtbnMgPSBbewogICAga2V5OiAnbmFtZScsCiAgICBzb3J0YWJsZTogdHJ1ZQogIH0sIHsKICAgIGtleTogJ2NvZGUnLAogICAgc29ydGFibGU6IHRydWUKICB9LCB7CiAgICBrZXk6ICdtYWluIGJyb2tlcicsCiAgICBzb3J0YWJsZTogdHJ1ZQogIH0sIHsKICAgIGtleTogJ251bWJlciBvZiBicm9rZXJzJywKICAgIHNvcnRhYmxlOiB0cnVlCiAgfSwgewogICAga2V5OiAnc3RhdHVzJywKICAgIHNvcnRhYmxlOiB0cnVlCiAgfSAvLyB7IGtleTogJ2FjdGlvbnMnIH0sCiAgXTsKICB2YXIgcGVyUGFnZSA9IHJlZigxMCk7CiAgdmFyIHRvdGFsVXNlcnMgPSByZWYoMCk7CiAgdmFyIGN1cnJlbnRQYWdlID0gcmVmKDEpOwogIHZhciBwZXJQYWdlT3B0aW9ucyA9IFsxMCwgMjUsIDUwLCAxMDBdOwogIHZhciBzZWFyY2hRdWVyeSA9IHJlZignJyk7CiAgdmFyIHNvcnRCeSA9IHJlZignaWQnKTsKICB2YXIgZGF0YU1ldGEgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICB2YXIgbG9jYWxJdGVtc0NvdW50ID0gcmVmVXNlckxpc3RUYWJsZS52YWx1ZSA/IHJlZlVzZXJMaXN0VGFibGUudmFsdWUubG9jYWxJdGVtcy5sZW5ndGggOiAwOwogICAgcmV0dXJuIHsKICAgICAgZnJvbTogcGVyUGFnZS52YWx1ZSAqIChjdXJyZW50UGFnZS52YWx1ZSAtIDEpICsgKGxvY2FsSXRlbXNDb3VudCA/IDEgOiAwKSwKICAgICAgdG86IHBlclBhZ2UudmFsdWUgKiAoY3VycmVudFBhZ2UudmFsdWUgLSAxKSArIGxvY2FsSXRlbXNDb3VudCwKICAgICAgb2Y6IHRvdGFsVXNlcnMudmFsdWUKICAgIH07CiAgfSk7CgogIHZhciByZWZldGNoRGF0YSA9IGZ1bmN0aW9uIHJlZmV0Y2hEYXRhKCkgewogICAgcmVmVXNlckxpc3RUYWJsZS52YWx1ZS5yZWZyZXNoKCk7CiAgfTsKCiAgdmFyIGZldGNoVXNlcnMgPSBmdW5jdGlvbiBmZXRjaFVzZXJzKGN0eCwgY2FsbGJhY2spIHsKICAgIHN0b3JlLmRpc3BhdGNoKCdhcHAtdXNlci9mZXRjaEJyb2thZ2UnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgY2FsbGJhY2soZGF0YS5yZXN1bHRzKTsKICAgICAgdG90YWxVc2Vycy52YWx1ZSA9IGRhdGEucmVzdWx0cy5sZW5ndGg7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHRvYXN0KHsKICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICBwcm9wczogewogICAgICAgICAgdGl0bGU6ICdFcnJvciBmZXRjaGluZyB1c2VycyBsaXN0JywKICAgICAgICAgIGljb246ICdBbGVydFRyaWFuZ2xlSWNvbicsCiAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICB2YXIgcmVzb2x2ZVVzZXJSb2xlVmFyaWFudCA9IGZ1bmN0aW9uIHJlc29sdmVVc2VyUm9sZVZhcmlhbnQocm9sZSkgewogICAgaWYgKHJvbGUgPT09ICdzdWJzY3JpYmVyJykgcmV0dXJuICdwcmltYXJ5JzsKICAgIGlmIChyb2xlID09PSAnYXV0aG9yJykgcmV0dXJuICd3YXJuaW5nJzsKICAgIGlmIChyb2xlID09PSAnbWFpbnRhaW5lcicpIHJldHVybiAnc3VjY2Vzcyc7CiAgICBpZiAocm9sZSA9PT0gJ2VkaXRvcicpIHJldHVybiAnaW5mbyc7CiAgICBpZiAocm9sZSA9PT0gJ2FsbCcpIHJldHVybiAnZGFuZ2VyJzsKICAgIHJldHVybiAncHJpbWFyeSc7CiAgfTsKCiAgdmFyIHJlc29sdmVVc2VyUm9sZUljb24gPSBmdW5jdGlvbiByZXNvbHZlVXNlclJvbGVJY29uKHJvbGUpIHsKICAgIGlmIChyb2xlID09PSAnc3Vic2NyaWJlcicpIHJldHVybiAnVXNlckljb24nOwogICAgaWYgKHJvbGUgPT09ICdhdXRob3InKSByZXR1cm4gJ1NldHRpbmdzSWNvbic7CiAgICBpZiAocm9sZSA9PT0gJ21haW50YWluZXInKSByZXR1cm4gJ0RhdGFiYXNlSWNvbic7CiAgICBpZiAocm9sZSA9PT0gJ2VkaXRvcicpIHJldHVybiAnRWRpdDJJY29uJzsKICAgIGlmIChyb2xlID09PSAnYWRtaW4nKSByZXR1cm4gJ1NlcnZlckljb24nOwogICAgcmV0dXJuICdVc2VySWNvbic7CiAgfTsKCiAgdmFyIHJlc29sdmVVc2VyU3RhdHVzVmFyaWFudCA9IGZ1bmN0aW9uIHJlc29sdmVVc2VyU3RhdHVzVmFyaWFudChzdGF0dXMpIHsKICAgIGlmIChzdGF0dXMgPT09ICdwZW5kaW5nJykgcmV0dXJuICd3YXJuaW5nJzsKICAgIGlmIChzdGF0dXMgPT09ICdhY3RpdmUnKSByZXR1cm4gJ3N1Y2Nlc3MnOwogICAgaWYgKHN0YXR1cyA9PT0gJ2luYWN0aXZlJykgcmV0dXJuICdzZWNvbmRhcnknOwogICAgcmV0dXJuICdwcmltYXJ5JzsKICB9OwoKICByZXR1cm4gewogICAgZmV0Y2hVc2VyczogZmV0Y2hVc2VycywKICAgIHRhYmxlQ29sdW1uczogdGFibGVDb2x1bW5zLAogICAgcGVyUGFnZTogcGVyUGFnZSwKICAgIHRvdGFsVXNlcnM6IHRvdGFsVXNlcnMsCiAgICBwZXJQYWdlT3B0aW9uczogcGVyUGFnZU9wdGlvbnMsCiAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksCiAgICBzb3J0Qnk6IHNvcnRCeSwKICAgIHJlZlVzZXJMaXN0VGFibGU6IHJlZlVzZXJMaXN0VGFibGUsCiAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsCiAgICBkYXRhTWV0YTogZGF0YU1ldGEsCiAgICByZWZldGNoRGF0YTogcmVmZXRjaERhdGEsCiAgICByZXNvbHZlVXNlclJvbGVWYXJpYW50OiByZXNvbHZlVXNlclJvbGVWYXJpYW50LAogICAgcmVzb2x2ZVVzZXJSb2xlSWNvbjogcmVzb2x2ZVVzZXJSb2xlSWNvbiwKICAgIHJlc29sdmVVc2VyU3RhdHVzVmFyaWFudDogcmVzb2x2ZVVzZXJTdGF0dXNWYXJpYW50CiAgfTsKfQ=="},{"version":3,"sources":["C:/Users/Kamal/Desktop/upwork/zafar sir/frontend_insurance/src/views/dashboard/admin-modules/brokerages/useBrokagesList.js"],"names":["ref","computed","title","useToast","ToastificationContent","store","usebrokeragesList","toast","refUserListTable","tableColumns","key","sortable","perPage","totalUsers","currentPage","perPageOptions","searchQuery","sortBy","dataMeta","localItemsCount","value","localItems","length","from","to","of","refetchData","refresh","fetchUsers","ctx","callback","dispatch","then","response","data","results","catch","component","props","icon","variant","resolveUserRoleVariant","role","resolveUserRoleIcon","resolveUserStatusVariant","status"],"mappings":"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","sourcesContent":["import { ref, computed } from '@vue/composition-api'\r\nimport { title } from '@core/utils/filter'\r\n\r\n// Notification\r\nimport { useToast } from 'vue-toastification/composition'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\nimport store from '@/store'\r\n\r\nexport default function usebrokeragesList() {\r\n  // Use toast\r\n  const toast = useToast()\r\n\r\n  const refUserListTable = ref(null)\r\n\r\n  // Table Handlers\r\n  const tableColumns = [\r\n    { key: 'name', sortable: true },\r\n    { key: 'code', sortable: true },\r\n    { key: 'main broker', sortable: true },\r\n    { key: 'number of brokers', sortable: true },\r\n    { key: 'status', sortable: true },\r\n    // { key: 'actions' },\r\n  ]\r\n  const perPage = ref(10)\r\n  const totalUsers = ref(0)\r\n  const currentPage = ref(1)\r\n  const perPageOptions = [10, 25, 50, 100]\r\n  const searchQuery = ref('')\r\n  const sortBy = ref('id')\r\n\r\n  const dataMeta = computed(() => {\r\n    const localItemsCount = refUserListTable.value ? refUserListTable.value.localItems.length : 0\r\n    return {\r\n      from: perPage.value * (currentPage.value - 1) + (localItemsCount ? 1 : 0),\r\n      to: perPage.value * (currentPage.value - 1) + localItemsCount,\r\n      of: totalUsers.value,\r\n    }\r\n  })\r\n\r\n  const refetchData = () => {\r\n    refUserListTable.value.refresh()\r\n  }\r\n\r\n  const fetchUsers = (ctx, callback) => {\r\n    store\r\n      .dispatch('app-user/fetchBrokage')\r\n      .then(response => {\r\n        const { data } = response.data\r\n\r\n        callback(data.results)\r\n        totalUsers.value = data.results.length\r\n      })\r\n      .catch(() => {\r\n        toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error fetching users list',\r\n            icon: 'AlertTriangleIcon',\r\n            variant: 'danger',\r\n          },\r\n        })\r\n      })\r\n  }\r\n\r\n  const resolveUserRoleVariant = role => {\r\n    if (role === 'subscriber') return 'primary'\r\n    if (role === 'author') return 'warning'\r\n    if (role === 'maintainer') return 'success'\r\n    if (role === 'editor') return 'info'\r\n    if (role === 'all') return 'danger'\r\n    return 'primary'\r\n  }\r\n\r\n  const resolveUserRoleIcon = role => {\r\n    if (role === 'subscriber') return 'UserIcon'\r\n    if (role === 'author') return 'SettingsIcon'\r\n    if (role === 'maintainer') return 'DatabaseIcon'\r\n    if (role === 'editor') return 'Edit2Icon'\r\n    if (role === 'admin') return 'ServerIcon'\r\n    return 'UserIcon'\r\n  }\r\n\r\n  const resolveUserStatusVariant = status => {\r\n    if (status === 'pending') return 'warning'\r\n    if (status === 'active') return 'success'\r\n    if (status === 'inactive') return 'secondary'\r\n    return 'primary'\r\n  }\r\n\r\n  return {\r\n    fetchUsers,\r\n    tableColumns,\r\n    perPage,\r\n    totalUsers,\r\n    perPageOptions,\r\n    searchQuery,\r\n    sortBy,\r\n    refUserListTable,\r\n    currentPage,\r\n    dataMeta,\r\n\r\n    refetchData,\r\n\r\n    resolveUserRoleVariant,\r\n    resolveUserRoleIcon,\r\n    resolveUserStatusVariant,\r\n  }\r\n}\r\n"]}]}