{"remainingRequest":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\src\\views\\dashboard\\admin-modules\\Policies\\usePoliciesList.js","dependencies":[{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\src\\views\\dashboard\\admin-modules\\Policies\\usePoliciesList.js","mtime":1653043181169},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\babel.config.js","mtime":1653043180287},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653043258756},{"path":"C:\\Users\\Kamal\\Desktop\\upwork\\zafar sir\\frontend_insurance\\node_modules\\babel-loader\\lib\\index.js","mtime":1653043263838}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ3Z1ZS10b2FzdGlmaWNhdGlvbi9jb21wb3NpdGlvbic7CmltcG9ydCBUb2FzdGlmaWNhdGlvbkNvbnRlbnQgZnJvbSAnQGNvcmUvY29tcG9uZW50cy90b2FzdGlmaWNhdGlvbi9Ub2FzdGlmaWNhdGlvbkNvbnRlbnQudnVlJzsKaW1wb3J0IGF4aW9zSW5zIGZyb20gJ0AvbGlicy9heGlvcyc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVBvbGljaWVzTGlzdCgpIHsKICAvLyBVc2UgdG9hc3QKICB2YXIgdG9hc3QgPSB1c2VUb2FzdCgpOwogIHZhciByZWZQb2xpY2llc0xpc3RUYWJsZSA9IHJlZihudWxsKTsgLy8gVGFibGUgSGFuZGxlcnMKCiAgdmFyIHRhYmxlQ29sdW1ucyA9IFt7CiAgICBrZXk6ICdwb2xpY3lfbnVtYmVyJywKICAgIHNvcnRhYmxlOiB0cnVlCiAgfSwgewogICAga2V5OiAnY2xpZW50JywKICAgIHNvcnRhYmxlOiB0cnVlCiAgfSwgewogICAga2V5OiAnc2FsZXNfc3RhdHVzJywKICAgIHNvcnRhYmxlOiB0cnVlCiAgfSwgewogICAga2V5OiAnYnJva2VyYWdlJywKICAgIHNvcnRhYmxlOiB0cnVlCiAgfSwgewogICAga2V5OiAnaW5lcHRpb24nLAogICAgc29ydGFibGU6IHRydWUKICB9LCB7CiAgICBrZXk6ICdib3VuZCcsCiAgICBzb3J0YWJsZTogdHJ1ZQogIH0sIHsKICAgIGtleTogJ29wdGlvbnMnCiAgfV07CiAgdmFyIHBlclBhZ2UgPSByZWYoMTApOwogIHZhciB0b3RhbFVzZXJzID0gcmVmKDApOwogIHZhciBjdXJyZW50UGFnZSA9IHJlZigxKTsKICB2YXIgcGVyUGFnZU9wdGlvbnMgPSBbMTAsIDI1LCA1MCwgMTAwXTsKICB2YXIgc2VhcmNoUXVlcnkgPSByZWYoJycpOwogIHZhciBzb3J0QnkgPSByZWYoJ2lkJyk7CiAgdmFyIGlzU29ydERpckRlc2MgPSByZWYodHJ1ZSk7CiAgdmFyIHVsb2FkaW5nID0gcmVmKGZhbHNlKTsKICB2YXIgc3RhdHVzID0gcmVmKCcnKTsKICB2YXIgdHlwZSA9IHJlZignJyk7CiAgdmFyIHVzZXJzID0gcmVmKFtdKTsKICB2YXIgY1VzZXJzID0gcmVmKFtdKTsKCiAgdmFyIGZldGNoUG9saWNpZXMgPSBmdW5jdGlvbiBmZXRjaFBvbGljaWVzKCkgewogICAgdmFyIHVybCA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJX1VSTCwgIi9hZG1pbi9wb2xpY3kiKTsKICAgIHVsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgIGF4aW9zSW5zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBfcmVzcG9uc2UkZGF0YSA9IHJlc3BvbnNlLmRhdGEsCiAgICAgICAgICBzdGF0dXMgPSBfcmVzcG9uc2UkZGF0YS5zdGF0dXMsCiAgICAgICAgICBkYXRhID0gX3Jlc3BvbnNlJGRhdGEuZGF0YTsKCiAgICAgIGlmIChzdGF0dXMgPT09ICdzdWNjZXNzJykgewogICAgICAgIHVzZXJzLnZhbHVlID0gZGF0YS5yZXN1bHRzOwogICAgICAgIHRvdGFsVXNlcnMudmFsdWUgPSB1c2Vycy52YWx1ZS5sZW5ndGg7CiAgICAgICAgdWxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICBjVXNlcnMudmFsdWUgPSB1c2Vycy52YWx1ZTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICB1bG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICB0b2FzdCh7CiAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHRpdGxlOiAnRXJyb3IgZmV0Y2hpbmcgdXNlcnMgbGlzdCcsCiAgICAgICAgICBpY29uOiAnQWxlcnRUcmlhbmdsZUljb24nLAogICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGZldGNoUG9saWNpZXM6IGZldGNoUG9saWNpZXMsCiAgICB0YWJsZUNvbHVtbnM6IHRhYmxlQ29sdW1ucywKICAgIHBlclBhZ2U6IHBlclBhZ2UsCiAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsCiAgICB0b3RhbFVzZXJzOiB0b3RhbFVzZXJzLAogICAgcGVyUGFnZU9wdGlvbnM6IHBlclBhZ2VPcHRpb25zLAogICAgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5LAogICAgc29ydEJ5OiBzb3J0QnksCiAgICBpc1NvcnREaXJEZXNjOiBpc1NvcnREaXJEZXNjLAogICAgcmVmUG9saWNpZXNMaXN0VGFibGU6IHJlZlBvbGljaWVzTGlzdFRhYmxlLAogICAgdWxvYWRpbmc6IHVsb2FkaW5nLAogICAgc3RhdHVzOiBzdGF0dXMsCiAgICB0eXBlOiB0eXBlLAogICAgdXNlcnM6IHVzZXJzLAogICAgY1VzZXJzOiBjVXNlcnMKICB9Owp9"},{"version":3,"sources":["C:/Users/Kamal/Desktop/upwork/zafar sir/frontend_insurance/src/views/dashboard/admin-modules/Policies/usePoliciesList.js"],"names":["ref","useToast","ToastificationContent","axiosIns","usePoliciesList","toast","refPoliciesListTable","tableColumns","key","sortable","perPage","totalUsers","currentPage","perPageOptions","searchQuery","sortBy","isSortDirDesc","uloading","status","type","users","cUsers","fetchPolicies","url","process","env","VUE_APP_BASE_API_URL","value","get","then","response","data","results","length","catch","component","props","title","icon","variant"],"mappings":"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","sourcesContent":["import { ref } from '@vue/composition-api'\r\nimport { useToast } from 'vue-toastification/composition'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\nimport axiosIns from '@/libs/axios'\r\n\r\nexport default function usePoliciesList() {\r\n  // Use toast\r\n  const toast = useToast()\r\n\r\n  const refPoliciesListTable = ref(null)\r\n\r\n  // Table Handlers\r\n  const tableColumns = [\r\n    { key: 'policy_number', sortable: true },\r\n    { key: 'client', sortable: true },\r\n    { key: 'sales_status', sortable: true },\r\n    { key: 'brokerage', sortable: true },\r\n    { key: 'ineption', sortable: true },\r\n    { key: 'bound', sortable: true },\r\n    { key: 'options' },\r\n  ]\r\n  const perPage = ref(10)\r\n  const totalUsers = ref(0)\r\n  const currentPage = ref(1)\r\n  const perPageOptions = [10, 25, 50, 100]\r\n  const searchQuery = ref('')\r\n  const sortBy = ref('id')\r\n  const isSortDirDesc = ref(true)\r\n  const uloading = ref(false)\r\n  const status = ref('')\r\n  const type = ref('')\r\n  const users = ref([])\r\n  const cUsers = ref([])\r\n\r\n  const fetchPolicies = () => {\r\n    const url = `${process.env.VUE_APP_BASE_API_URL}/admin/policy`\r\n    uloading.value = true\r\n    axiosIns.get(url)\r\n      .then(response => {\r\n        const { status, data } = response.data\r\n        if (status === 'success') {\r\n          users.value = data.results\r\n          totalUsers.value = users.value.length\r\n          uloading.value = false\r\n          cUsers.value = users.value\r\n        }\r\n      })\r\n      .catch(() => {\r\n        uloading.value = false\r\n        toast({\r\n          component: ToastificationContent,\r\n          props: {\r\n            title: 'Error fetching users list',\r\n            icon: 'AlertTriangleIcon',\r\n            variant: 'danger',\r\n          },\r\n        })\r\n      })\r\n  }\r\n\r\n  return {\r\n    fetchPolicies,\r\n    tableColumns,\r\n    perPage,\r\n    currentPage,\r\n    totalUsers,\r\n    perPageOptions,\r\n    searchQuery,\r\n    sortBy,\r\n    isSortDirDesc,\r\n    refPoliciesListTable,\r\n    uloading,\r\n    status,\r\n    type,\r\n    users,\r\n    cUsers,\r\n  }\r\n}\r\n"]}]}